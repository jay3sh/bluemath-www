{"version":3,"sources":["webpack:///webpack/bootstrap 53a8686271461055e625","webpack:///./src/index.ts","webpack:///./src/game.ts","webpack:///./src/model.ts","webpack:///./src/specs.ts","webpack:///./node_modules/@bluemath/color/lib/index.js","webpack:///./src/htmlview.ts"],"names":[],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,mBAAmB,QAAQ;AAC3B,qBAAqB,MAAM;AAC3B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,mBAAmB,QAAQ;AAC3B,qBAAqB,MAAM;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,mBAAmB,QAAQ;AAC3B,qBAAqB,MAAM;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,mBAAmB,QAAQ;AAC3B,qBAAqB,MAAM;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,mBAAmB,QAAQ;AAC3B,qBAAqB,MAAM;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,mBAAmB,QAAQ;AAC3B,qBAAqB,MAAM;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,mBAAmB,QAAQ;AAC3B,qBAAqB,MAAM;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AA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","file":"./build/boredchemist.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 53a8686271461055e625","\r\nimport { Game } from './game';\r\n\r\nwindow.onload = () => {\r\n  Game.instance.run();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","\r\nimport { createSVGElement } from \"./helper\";\r\nimport { Model } from './model';\r\nimport { View } from \"./view\";\r\nimport { HTMLView } from \"./htmlview\";\r\n\r\n/**\r\n * Bored chemists are tired of doing Chemistry.\r\n * So you hire them to do the clicking. You do the Chemistry\r\n * and become rich.\r\n */\r\n\r\nexport class Game {\r\n\r\n  private static _instance: Game;\r\n  public static get instance() {\r\n    if (!this._instance) {\r\n      this._instance = new Game();\r\n    }\r\n    return this._instance;\r\n  }\r\n\r\n  //svg: SVGElement;\r\n  static vpWidth: number;\r\n  static vpHeight: number;\r\n  static docWidth = 1920;\r\n  static docHeight = 1080;\r\n\r\n  blurInstant: number = 0;\r\n\r\n  private constructor() {\r\n\r\n    // let svg = createSVGElement('svg');\r\n    // document.body.appendChild(svg);\r\n    // this.computeViewportDimensions();\r\n    // this.setupViewport();\r\n    // this.svg = svg;\r\n\r\n    HTMLView.instance.init();\r\n\r\n    window.addEventListener('blur', () => {\r\n      this.blurInstant = Date.now();\r\n    });\r\n\r\n    window.addEventListener('focus', () => {\r\n      let missedTime = Date.now() - this.blurInstant;\r\n      Model.instance.adjustForMissedTime(missedTime);\r\n    });\r\n\r\n    window.addEventListener('beforeunload', () => {\r\n\r\n    });\r\n  }\r\n\r\n  run() {\r\n    // Global loop\r\n    let loop = (t: number) => {\r\n      Model.instance.tick(t);\r\n      HTMLView.instance.update();\r\n      requestAnimationFrame(loop);\r\n    }\r\n    loop(0);\r\n  }\r\n\r\n  setupViewport() {\r\n    let svg = document.querySelector('svg')! as SVGSVGElement;\r\n    svg.setAttribute('width', Game.vpWidth + 'px');\r\n    svg.setAttribute('height', Game.vpHeight + 'px');\r\n    svg.style.position = 'absolute';\r\n    svg.style.left = '50%';\r\n    svg.style.top = '0%';\r\n    svg.style.marginLeft = (-Game.vpWidth / 2) + 'px';\r\n    svg.style.marginTop = '0px';\r\n    svg.setAttribute('viewBox', `0 0 ${Game.docWidth} ${Game.docHeight}`);\r\n  }\r\n\r\n  computeViewportDimensions() {\r\n    let mapAspectRatio = Game.docWidth / Game.docHeight;\r\n    let sx = window.innerWidth / Game.docWidth;\r\n    let sy = window.innerHeight / Game.docHeight;\r\n    if (sx < sy) {\r\n      Game.vpWidth = window.innerWidth;\r\n      Game.vpHeight = (Game.vpWidth / mapAspectRatio);\r\n    } else {\r\n      Game.vpHeight = window.innerHeight;\r\n      Game.vpWidth = Game.vpHeight * mapAspectRatio;\r\n    }\r\n  }\r\n\r\n  static toViewport(l: number) {\r\n    return l * Game.vpWidth / Game.docWidth;\r\n  }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/game.ts","import * as specs from './specs';\r\n\r\nexport interface ElementEntry {\r\n  symbol: string,\r\n  anumber: number,\r\n  name: string,\r\n  aweight: number,\r\n  group: number,\r\n  period: number,\r\n  colcode: number\r\n}\r\n\r\nexport interface SubstanceEntry {\r\n  formula: string,\r\n  name: string,\r\n  composition: { [key: string]: number },\r\n}\r\n\r\ntype Inventory = {\r\n  elements: { [key: string]: number },\r\n  substances: { [key: string]: number }\r\n}\r\n\r\nexport type Clicker = {\r\n  cps: number;\r\n  cost: number;\r\n}\r\n\r\ntype ElementFactory = {\r\n  symbol: string;\r\n  prodrate: number;\r\n}\r\n\r\ntype SubstanceFactory = {\r\n  formula: string;\r\n  prodrate: number;\r\n}\r\n\r\nconst ClickerSpecs: { [key: string]: Clicker } = {\r\n  'student': { cps: 10, cost: 4 },\r\n  'labass': { cps: 50, cost: 10 },\r\n  'phd': { cps: 100, cost: 15 },\r\n  'professor': { cps: 200, cost: 40 },\r\n  'scientist': { cps: 500, cost: 100 },\r\n  'nobel': { cps: 5000, cost: 1000 }\r\n};\r\n\r\nexport class Model {\r\n\r\n  private static _instance: Model;\r\n\r\n  public static get instance() {\r\n    if (!this._instance) {\r\n      this._instance = new Model;\r\n    }\r\n    return this._instance;\r\n  }\r\n\r\n  money = 0;\r\n\r\n  numE = 0;\r\n  numP = 0;\r\n  numN = 0;\r\n\r\n  inventory: Inventory;\r\n\r\n  // Time period (milliseconds) between production of each particle\r\n  periodE = 1000;\r\n  periodP = 1000;\r\n  periodN = 1000;\r\n\r\n  lastTE = 0;\r\n  lastTP = 0;\r\n  lastTN = 0;\r\n\r\n  clickers: Clicker[];\r\n  elementFactories: ElementFactory[];\r\n  substanceFactories: SubstanceFactory[];\r\n\r\n  pendingElementUnitsToProduce: { [key: string]: number };\r\n  pendingSubstanceUnitsToProduce: { [key: string]: number };\r\n\r\n  floatClicks: number;\r\n  lastInstant: number;\r\n\r\n  elemSpecMap: { [key: string]: ElementEntry };\r\n  substanceSpecMap: { [key: string]: SubstanceEntry };\r\n\r\n  cash: number;\r\n\r\n  constructor() {\r\n    this.inventory = { elements: {}, substances: {} } as Inventory;\r\n    this.clickers = [];\r\n    this.elementFactories = [];\r\n    this.substanceFactories = [];\r\n    this.floatClicks = 0;\r\n    this.pendingElementUnitsToProduce = {};\r\n    this.pendingSubstanceUnitsToProduce = {};\r\n    this.lastInstant = -1;\r\n    this.cash = 0;\r\n\r\n    this.elemSpecMap = {};\r\n    this.substanceSpecMap = {};\r\n\r\n    this.initInventory();\r\n  }\r\n\r\n  private initInventory() {\r\n\r\n    for (let i = 0; i < specs.list.length; i++) {\r\n\r\n      // ---\r\n      let [anumber, symbol, name,\r\n        group, period, aweight,\r\n        colcode] = specs.list[i];\r\n\r\n      let elementry = {\r\n        symbol: symbol as string,\r\n        anumber: anumber as number,\r\n        name: name as string,\r\n        aweight: aweight as number,\r\n        group: group as number,\r\n        period: period as number,\r\n        colcode: colcode as number\r\n      };\r\n\r\n      this.inventory.elements[(symbol as string)] = 0;\r\n      this.elemSpecMap[(symbol as string)] = elementry;\r\n    }\r\n\r\n    for (let i = 0; i < specs.substanceList.length; i++) {\r\n      let [formula, name, composition, price] = specs.substanceList[i];\r\n\r\n      let subentry: SubstanceEntry = {\r\n        formula: formula as string,\r\n        name: name as string,\r\n        composition: composition as { [key: string]: number },\r\n      }\r\n      this.substanceSpecMap[formula as string] = subentry;\r\n    }\r\n  }\r\n\r\n  hashStringToNumber(s: string) {\r\n    var h = 0, l = s.length, i = 0;\r\n    if (l > 0) {\r\n      while (i < l) {\r\n        h = (h << 5) - h + s.charCodeAt(i++) | 0;\r\n      }\r\n    }\r\n    return Math.abs(h);\r\n  }\r\n\r\n  canAfford(cost: number) {\r\n    return this.cash >= cost;\r\n  }\r\n\r\n  getElementFactoryCost(symbol: string, prodrate: number) {\r\n    let spec = this.elemSpecMap[symbol];\r\n    return Math.max(1, Math.round(spec.aweight * prodrate * 0.6));\r\n  }\r\n\r\n  getSubstanceFactoryCost(formula: string, prodrate: number) {\r\n    let spec = this.substanceSpecMap[formula];\r\n    let aweight = this.getSubstanceAtomicWeight(formula);\r\n    let salt = (this.hashStringToNumber(spec.name) % 100) / 100;\r\n    let variation = (2 * salt - 1) * 10; // +/-5\r\n    return Math.max(1, Math.round(aweight * prodrate * 0.7 + variation));\r\n  }\r\n\r\n  buyElementFactory(symbol: string, prodrate: number) {\r\n    this.cash -= this.getElementFactoryCost(symbol, prodrate);\r\n    console.assert(this.cash >= 0);\r\n    this.elementFactories.push({ symbol: symbol, prodrate: prodrate });\r\n  }\r\n\r\n  buySubstanceFactory(formula: string, prodrate: number) {\r\n    this.cash -= this.getSubstanceFactoryCost(formula, prodrate);\r\n    console.assert(this.cash >= 0);\r\n    this.substanceFactories.push({ formula: formula, prodrate: prodrate });\r\n  }\r\n\r\n  getSubstanceAtomicWeight(formula: string) {\r\n    let spec = this.substanceSpecMap[formula];\r\n    let totalaweight = 0;\r\n    for (let symbol in spec.composition) {\r\n      let espec = this.elemSpecMap[symbol];\r\n      totalaweight += spec.composition[symbol] * espec.aweight;\r\n    }\r\n    return totalaweight;\r\n  }\r\n\r\n  getSubstancePrice(formula: string) {\r\n    let spec = this.substanceSpecMap[formula];\r\n    let aweight = this.getSubstanceAtomicWeight(formula);\r\n    let salt = (this.hashStringToNumber(spec.name) % 100) / 100;\r\n    let variation = (2 * salt - 1) * 4; // +/-2\r\n    return Math.max(1, Math.round(aweight * 0.8 + variation));\r\n  }\r\n\r\n  hireClicker(clickerType: string) {\r\n    let spec = ClickerSpecs[clickerType];\r\n    console.assert(this.cash >= spec.cost);\r\n    this.cash -= spec.cost;\r\n    this.clickers.push(spec);\r\n  }\r\n\r\n  canHireClicker(clickerType: string) {\r\n    return this.cash >= ClickerSpecs[clickerType].cost;\r\n  }\r\n\r\n  isElemProducible(symbol: string) {\r\n    return this.areElemUnitsProducible(symbol, 1);\r\n  }\r\n\r\n  areElemUnitsProducible(symbol: string, n: number) {\r\n    let ee = this.elemSpecMap[symbol];\r\n    let anumber = ee.anumber;\r\n    let amass = Math.round(ee.aweight);\r\n    if (amass < 0) { return false; } // No stable isotopes available\r\n    let reqElectrons = anumber;\r\n    let reqProtons = anumber;\r\n    let reqNeutrons = amass - reqProtons;\r\n    return (\r\n      reqElectrons * n <= this.numE &&\r\n      reqProtons * n <= this.numP &&\r\n      reqNeutrons * n <= this.numN);\r\n  }\r\n\r\n  isSubstanceProducible(formula: string) {\r\n    return this.areSubstanceUnitsProducible(formula, 1);\r\n  }\r\n\r\n  areSubstanceUnitsProducible(formula: string, n: number) {\r\n    let sub = this.substanceSpecMap[formula];\r\n    for (let esymbol in sub.composition) {\r\n      let requiredQuantity = sub.composition[esymbol] * n;\r\n      if (this.getElementQuantity(esymbol) < requiredQuantity) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  produceElement(symbol: string, n: number) {\r\n    let ee = this.elemSpecMap[symbol];\r\n    let anumber = ee.anumber;\r\n    let amass = Math.round(ee.aweight);\r\n    let reqElectrons = anumber * n;\r\n    let reqProtons = anumber * n;\r\n    let reqNeutrons = (amass - reqProtons) * n;\r\n    this.consume(reqElectrons, reqProtons, reqNeutrons);\r\n    this.inventory.elements[ee.symbol] += n;\r\n  }\r\n\r\n  produceSubstance(formula: string, n: number) {\r\n    let sub = this.substanceSpecMap[formula];\r\n    for (let esymbol in sub.composition) {\r\n      let requiredQuantity = sub.composition[esymbol] * n;\r\n      this.consumeElements(esymbol, requiredQuantity);\r\n    }\r\n    if (!this.inventory.substances[sub.formula]) {\r\n      this.inventory.substances[sub.formula] = 0;\r\n    }\r\n    this.inventory.substances[sub.formula]++;\r\n  }\r\n\r\n  consume(ne: number, np: number, nn: number) {\r\n    this.numE -= ne;\r\n    this.numP -= np;\r\n    this.numN -= nn;\r\n  }\r\n\r\n  addElectron() {\r\n    this.numE++;\r\n  }\r\n\r\n  addProton() {\r\n    this.numP++;\r\n  }\r\n\r\n  addNeutron() {\r\n    this.numN++;\r\n  }\r\n\r\n  consumeElements(symbol: string, n: number) {\r\n    this.inventory.elements[symbol] -= n;\r\n  }\r\n\r\n  getElementQuantity(symbol: string) {\r\n    return this.inventory.elements[symbol];\r\n  }\r\n\r\n  getSubstanceQuantity(formula: string) {\r\n    return this.inventory.substances[formula];\r\n  }\r\n\r\n  sellSubstance(formula: string, units: number) {\r\n    console.assert(this.inventory.substances[formula] >= units);\r\n    this.inventory.substances[formula] -= units;\r\n    this.cash += units * this.getSubstancePrice(formula);\r\n  }\r\n\r\n  getElementSpec(symbol: string) {\r\n    return this.elemSpecMap[symbol];\r\n  }\r\n\r\n  getSubstanceSpec(formula: string) {\r\n    return this.substanceSpecMap[formula];\r\n  }\r\n\r\n  tick(tmsec: number) {\r\n    // Calculate delta t between frames\r\n    if (this.lastInstant < 0) {\r\n      this.lastInstant = tmsec;\r\n      return;\r\n    }\r\n    let dt = tmsec - this.lastInstant;\r\n    this.lastInstant = tmsec;\r\n\r\n    this.generateClicksForInterval(dt);\r\n    this.runElementFactories(dt);\r\n    this.runSubstanceFactories(dt);\r\n  }\r\n\r\n  runElementFactories(dt: number) {\r\n    for (let efactory of this.elementFactories) {\r\n      let unitsToProduce = (efactory.prodrate * dt / 1000);\r\n      if (!this.pendingElementUnitsToProduce[efactory.symbol]) {\r\n        this.pendingElementUnitsToProduce[efactory.symbol] = 0;\r\n      }\r\n      this.pendingElementUnitsToProduce[efactory.symbol] += unitsToProduce;\r\n\r\n      let intUnitsToProduce = Math.floor(this.pendingElementUnitsToProduce[efactory.symbol]);\r\n      // Try to produce as many units as can be afforded\r\n      while (intUnitsToProduce > 0) {\r\n        if (this.areElemUnitsProducible(efactory.symbol, intUnitsToProduce)) {\r\n          this.produceElement(efactory.symbol, intUnitsToProduce);\r\n          break;\r\n        }\r\n        intUnitsToProduce--;\r\n      }\r\n\r\n      // Subtract produced units from pending value\r\n      this.pendingElementUnitsToProduce[efactory.symbol] -= intUnitsToProduce;\r\n    }\r\n  }\r\n\r\n  runSubstanceFactories(dt: number) {\r\n    for (let sfactory of this.substanceFactories) {\r\n      let unitsToProduce = sfactory.prodrate * dt / 1000;\r\n      if (!this.pendingSubstanceUnitsToProduce[sfactory.formula]) {\r\n        this.pendingSubstanceUnitsToProduce[sfactory.formula] = 0;\r\n      }\r\n      this.pendingSubstanceUnitsToProduce[sfactory.formula] += unitsToProduce;\r\n\r\n      let intUnitsToProduce = Math.floor(this.pendingSubstanceUnitsToProduce[sfactory.formula]);\r\n      // Try to produce as many units as can be afforded\r\n      while (intUnitsToProduce > 0) {\r\n        if (this.areSubstanceUnitsProducible(sfactory.formula, intUnitsToProduce)) {\r\n          this.produceSubstance(sfactory.formula, intUnitsToProduce);\r\n          break;\r\n        }\r\n        intUnitsToProduce--;\r\n      }\r\n      // Subtract produced units from pending value\r\n      this.pendingSubstanceUnitsToProduce[sfactory.formula] -= intUnitsToProduce;\r\n    }\r\n  }\r\n\r\n  private generateClicksForInterval(dt: number) {\r\n    for (let clicker of this.clickers) {\r\n      this.floatClicks += clicker.cps * dt / 1000;\r\n      // apply whole number of clicks to particle counts\r\n      let intClicks = Math.floor(this.floatClicks);\r\n      this.numE += intClicks;\r\n      if (Math.random() < 0.01) {\r\n        this.numE++;\r\n      }\r\n      this.numP += intClicks;\r\n      if (Math.random() < 0.01) {\r\n        this.numP++;\r\n      }\r\n      this.numN += intClicks;\r\n      if (Math.random() < 0.01) {\r\n        this.numN++;\r\n      }\r\n      // keep balance in floatClicks\r\n      this.floatClicks -= intClicks;\r\n    }\r\n  }\r\n\r\n  adjustForMissedTime(msec: number) {\r\n    this.generateClicksForInterval(msec);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model.ts","\r\nimport { Color } from '@bluemath/color';\r\n\r\nconst colorcodes = [\r\n  0xA500A0, // [0] Other non-metals\r\n  0x007EA7, // [1] Noble gases\r\n  0x00A55B, // [2] Metalloids\r\n  0x997707, // [3] Post transition metals\r\n  0x8EA604, // [4] Transition metals\r\n  0xA54A00, // [5] Alkaline Earth Metals\r\n  0x0050A5, // [6] Alkali metals\r\n  0xD1462F, // [7] Lanthanides\r\n  0x007EA7, // [8] Actinoids\r\n  0x003249  // [9] Others \r\n];\r\n\r\nexport const ColorClasses = [\r\n  'other-non-metals',\r\n  'noble-gases',\r\n  'metalloids',\r\n  'post-trans-metals',\r\n  'trans-metals',\r\n  'alk-earth-metals',\r\n  'alk-metals',\r\n  'lanthanides',\r\n  'actinoids',\r\n  'other-elements'\r\n]\r\n\r\nexport const lightcolorcodes = colorcodes.map(c => {\r\n  let col = new Color(c);\r\n  col.saturation = 0.2;\r\n  return col.toCSSHex();\r\n});\r\n\r\nexport const maincolorcodes = colorcodes.map(c => {\r\n  let col = new Color(c);\r\n  return col.toCSSHex();\r\n});\r\n\r\n\r\nexport const list = [\r\n  [1, 'H', 'Hydrogen', 1, 1, 1.008, 0],\r\n  [2, 'He', 'Helium', 18, 1, 4.002602, 1],\r\n  [3, 'Li', 'Lithium', 1, 2, 6.94, 6],\r\n  [4, 'Be', 'Beryllium', 2, 2, 9.0121831, 5],\r\n  [5, 'B', 'Boron', 13, 2, 10.81, 2],\r\n  [6, 'C', 'Carbon', 14, 2, 12.011, 0],\r\n  [7, 'N', 'Nitrogen', 15, 2, 14.007, 0],\r\n  [8, 'O', 'Oxygen', 16, 2, 15.999, 0],\r\n  [9, 'F', 'Fluorine', 17, 2, 18.998403163, 0],\r\n  [10, 'Ne', 'Neon', 18, 2, 20.1797, 1],\r\n  [11, 'Na', 'Sodium', 1, 3, 22.98976928, 6],\r\n  [12, 'Mg', 'Magnesium', 2, 3, 24.305, 5],\r\n  [13, 'Al', 'Aluminium', 13, 3, 26.9815385, 3],\r\n  [14, 'Si', 'Silicon', 14, 3, 28.085, 2],\r\n  [15, 'P', 'Phosphorus', 15, 3, 30.973761998, 0],\r\n  [16, 'S', 'Sulfur', 16, 3, 32.06, 0],\r\n  [17, 'Cl', 'Chlorine', 17, 3, 35.45, 0],\r\n  [18, 'Ar', 'Argon', 18, 3, 39.948, 1],\r\n  [19, 'K', 'Potassium', 1, 4, 39.0983, 6],\r\n  [20, 'Ca', 'Calcium', 2, 4, 40.078, 5],\r\n  [21, 'Sc', 'Scandium', 3, 4, 44.955908, 4],\r\n  [22, 'Ti', 'Titanium', 4, 4, 47.867, 4],\r\n  [23, 'V', 'Vanadium', 5, 4, 50.9415, 4],\r\n  [24, 'Cr', 'Chromium', 6, 4, 51.9961, 4],\r\n  [25, 'Mn', 'Manganese', 7, 4, 54.938044, 4],\r\n  [26, 'Fe', 'Iron', 8, 4, 55.845, 4],\r\n  [27, 'Co', 'Cobalt', 9, 4, 58.933194, 4],\r\n  [28, 'Ni', 'Nickel', 10, 4, 58.6934, 4],\r\n  [29, 'Cu', 'Copper', 11, 4, 63.546, 4],\r\n  [30, 'Zn', 'Zinc', 12, 4, 65.38, 4],\r\n  [31, 'Ga', 'Gallium', 13, 4, 69.723, 3],\r\n  [32, 'Ge', 'Germanium', 14, 4, 72.630, 2],\r\n  [33, 'As', 'Arsenic', 15, 4, 74.921595, 2],\r\n  [34, 'Se', 'Selenium', 16, 4, 78.971, 0],\r\n  [35, 'Br', 'Bromine', 17, 4, 79.904, 0],\r\n  [36, 'Kr', 'Krypton', 18, 4, 83.798, 1],\r\n  [37, 'Rb', 'Rubidium', 1, 5, 85.4678, 6],\r\n  [38, 'Sr', 'Strontium', 2, 5, 87.62, 5],\r\n  [39, 'Y', 'Yttrium', 3, 5, 88.90584, 4],\r\n  [40, 'Zr', 'Zirconium', 4, 5, 91.224, 4],\r\n  [41, 'Nb', 'Niobium', 5, 5, 92.90637, 4],\r\n  [42, 'Mo', 'Molybdenum', 6, 5, 95.95, 4],\r\n  [43, 'Tc', 'Technetium', 7, 5, 98, 4],\r\n  [44, 'Ru', 'Ruthenium', 8, 5, 101.07, 4],\r\n  [45, 'Rh', 'Rhodium', 9, 5, 102.90550, 4],\r\n  [46, 'Pd', 'Palladium', 10, 5, 106.42, 4],\r\n  [47, 'Ag', 'Silver', 11, 5, 107.8682, 4],\r\n  [48, 'Cd', 'Cadmium', 12, 5, 112.414, 4],\r\n  [49, 'In', 'Indium', 13, 5, 114.818, 3],\r\n  [50, 'Sn', 'Tin', 14, 5, 118.710, 3],\r\n  [51, 'Sb', 'Antimony', 15, 5, 121.760, 2],\r\n  [52, 'Te', 'Tellurium', 16, 5, 127.60, 2],\r\n  [53, 'I', 'Iodine', 17, 5, 126.90447, 0],\r\n  [54, 'Xe', 'Xenon', 18, 5, 131.293, 1],\r\n  [55, 'Cs', 'Caesium', 1, 6, 132.90545196, 6],\r\n  [56, 'Ba', 'Barium', 2, 6, 137.327, 5],\r\n\r\n  [57, 'La', 'Lanthanum', 3, 6, 138.90547, 9],\r\n  [58, 'Ce', 'Cerium', -1, 6, 140.116, 7],\r\n  [59, 'Pr', 'Praseodymium', -1, 6, 140.90766, 7],\r\n  [60, 'Nd', 'Neodymium', -1, 6, 144.242, 7],\r\n  [61, 'Pm', 'Promethium', -1, 6, -1, 7],\r\n  [62, 'Sm', 'Samarium', -1, 6, 150.36, 7],\r\n  [63, 'Eu', 'Europium', -1, 6, 151.964, 7],\r\n  [64, 'Gd', 'Gadolinium', -1, 6, 157.25, 7],\r\n  [65, 'Tb', 'Terbium', -1, 6, 158.92535, 7],\r\n  [66, 'Dy', 'Dysprosium', -1, 6, 162.500, 7],\r\n  [67, 'Ho', 'Holmium', -1, 6, 164.93033, 7],\r\n  [68, 'Er', 'Erbium', -1, 6, 167.259, 7],\r\n  [69, 'Tm', 'Thulium', -1, 6, 168.93422, 7],\r\n  [70, 'Yb', 'Ytterbium', -1, 6, 173.045, 7],\r\n  [71, 'Lu', 'Lutetium', -1, 6, 174.9668, 7],\r\n\r\n  [72, 'Hf', 'Hafnium', 4, 6, 178.49, 4],\r\n  [73, 'Ta', 'Tantalum', 5, 6, 180.94788, 4],\r\n  [74, 'W', 'Tungsten', 6, 6, 183.84, 4],\r\n  [75, 'Re', 'Rhenium', 7, 6, 186.207, 4],\r\n  [76, 'Os', 'Osmium', 8, 6, 190.23, 4],\r\n  [77, 'Ir', 'Iridium', 9, 6, 192.217, 4],\r\n  [78, 'Pt', 'Platinum', 10, 6, 195.084, 4],\r\n  [79, 'Au', 'Gold', 11, 6, 196.966569, 4],\r\n  [80, 'Hg', 'Mercury', 12, 6, 200.592, 4],\r\n  [81, 'Tl', 'Thallium', 13, 6, 204.38, 3],\r\n  [82, 'Pb', 'Lead', 14, 6, 207.2, 3],\r\n  [83, 'Bi', 'Bismuth', 15, 6, 208.98040, 3],\r\n  [84, 'Po', 'Polonium', 16, 6, 209, 3],\r\n  [85, 'At', 'Astatine', 17, 6, 210, 2],\r\n  [86, 'Rn', 'Radon', 18, 6, 222, 1],\r\n  [87, 'Fr', 'Francium', 1, 7, 223, 6],\r\n  [88, 'Ra', 'Radium', 2, 7, 226, 5],\r\n\r\n  [89, 'Ac', 'Actinium', 3, 7, 227, 9],\r\n  [90, 'Th', 'Thorium', -1, 7, 232.0377, 8],\r\n  [91, 'Pa', 'Protactinium', -1, 7, 231.03588, 8],\r\n  [92, 'U', 'Uranium', -1, 7, 238.02891, 8],\r\n  [93, 'Np', 'Neptunium', -1, 7, 237, 8],\r\n  [94, 'Pu', 'Plutonium', -1, 7, 244, 8],\r\n  [95, 'Am', 'Americium', -1, 7, 243, 8],\r\n  [96, 'Cm', 'Curium', -1, 7, 247, 8],\r\n  [97, 'Bk', 'Berkelium', -1, 7, 247, 8],\r\n  [98, 'Cf', 'Californium', -1, 7, 251, 8],\r\n  [99, 'Es', 'Einsteinium', -1, 7, 252, 8],\r\n  [100, 'Fm', 'Fermium', -1, 7, 257, 8],\r\n  [101, 'Md', 'Mendelevium', -1, 7, 258, 8],\r\n  [102, 'No', 'Nobelium', -1, 7, 259, 8],\r\n  [103, 'Lr', 'Lawrencium', -1, 7, 266, 8],\r\n\r\n  [104, 'Rf', 'Rutherfordium', 4, 7, 267, 4],\r\n  [105, 'Db', 'Dubnium', 5, 7, 268, 4],\r\n  [106, 'Sg', 'Seaborgium', 6, 7, 269, 4],\r\n  [107, 'Bh', 'Bohrium', 7, 7, 270, 4],\r\n  [108, 'Hs', 'Hassium', 8, 7, 270, 4],\r\n  [109, 'Mt', 'Meitnerium', 9, 7, 278, 9],\r\n  [110, 'Ds', 'Darmstadtium', 10, 7, 281, 9],\r\n  [111, 'Rg', 'Roentgenium', 11, 7, 282, 9],\r\n  [112, 'Cn', 'Copernicium', 12, 7, 285, 4],\r\n  [113, 'Nh', 'Nihonium', 13, 7, 286, 9],\r\n  [114, 'Fl', 'Flerovium', 14, 7, 289, 3],\r\n  [115, 'Mc', 'Moscovium', 15, 7, 290, 9],\r\n  [116, 'Lv', 'Livermorium', 16, 7, 293, 9],\r\n  [117, 'Ts', 'Tennessine', 17, 7, 294, 9],\r\n  [118, 'Og', 'Oganesson', 18, 7, 294, 9],\r\n];\r\n\r\nexport const substanceList = [\r\n  ['H2O', 'Water', { H: 2, O: 1 }, 1],\r\n  ['He', 'Helium', { He: 1 }, 1],\r\n  ['O2', 'Oxygen', { O: 2 }, 1],\r\n  ['CH3CH3', 'Ethane', { C: 2, H: 6 }, 5],\r\n  ['CH2CH2', 'Ethylene', { C: 2, H: 4 }, 5],\r\n  ['CaCO3', 'Calcium Carbonate', { Ca: 1, C: 1, O: 3 }, 5],\r\n  ['NaCl', 'Salt', { Na: 1, Cl: 1 }, 3],\r\n  ['MgCl2', 'Magnesium Chloride', { Mg: 1, Cl: 2 }, 6],\r\n  ['KCl', 'Potassium Chloride', { K: 1, Cl: 1 }, 6],\r\n  ['BeBr2', 'Beryllium Bromide', { Be: 1, Br: 2 }, 10],\r\n  ['NaF', 'Sodium Fluoride', { Na: 1, F: 1 }, 9]\r\n];\n\n\n// WEBPACK FOOTER //\n// ./src/specs.ts","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Color = /** @class */ (function () {\n    /**\n     * @example\n     * // Following ways are supported to construct Kolor object\n     * new Kolor(); // Creates Black color with alpha = 1.0\n     * new Kolor(r,g,b,a); // each of r,g,b,a should be in 0.0 to 1.0, otherwise undefined behavior\n     * new Kolor([r,g,b,a]); // each of r,g,b,a should be in 0.0 to 1.0, otherwise undefined behavior\n     * new Kolor({r,g,b,a}); // each of r,g,b,a should be in 0.0 to 1.0, otherwise undefined behavior\n     * new Kolor({h,s,v,a}); // each of h,s,v,a should be in 0.0 to 1.0, otherwise undefined behavior\n     * new Kolor(0xff0f00);\n     */\n    function Color(arg0, arg1, arg2, arg3) {\n        this.rgb = null;\n        this.a = 1;\n        this.hsv = null;\n        if (arguments.length === 0) {\n            this.rgb = [0, 0, 0];\n            this.a = 1.0;\n        }\n        else {\n            if (Array.isArray(arguments[0])) {\n                var c = arguments[0];\n                this.rgb = [c[0], c[1], c[2]];\n                if (c[3] === undefined || c[3] === null) {\n                    this.a = 1.0;\n                }\n                else {\n                    this.a = c[3];\n                }\n            }\n            else if (arguments.length > 1) {\n                this.rgb = [arguments[0], arguments[1], arguments[2]];\n                if (arguments[3] === undefined || arguments[3] === null) {\n                    this.a = 1.0;\n                }\n                else {\n                    this.a = arguments[3];\n                }\n            }\n            else {\n                var c = arguments[0];\n                if (c instanceof Color) {\n                    this.rgb = c.RGB();\n                    this.a = c.a;\n                }\n                else if (c.hasOwnProperty('r')) {\n                    // Assume - new Kolor({r:<number>,g:<number>,b:<number>,a:<number>})\n                    this.rgb = [c.r, c.g, c.b];\n                    if (c.a === undefined || c.a === null) {\n                        this.a = 1.0;\n                    }\n                    else {\n                        this.a = c.a;\n                    }\n                }\n                else if (c.hasOwnProperty('h')) {\n                    // Assume - new Kolor({h:<number>,s:<number>,v:<number>,a:<number>})\n                    this.hsv = [c.h, c.s, c.v];\n                    this.a = c.a;\n                    if (c.a === undefined || c.a === null) {\n                        this.a = 1.0;\n                    }\n                    else {\n                        this.a = c.a;\n                    }\n                }\n                else if (typeof c === 'number') {\n                    var b = (c & 0xff) / 255;\n                    var g = ((c & (0xff << 8)) >> 8) / 255;\n                    var r = ((c & (0xff << 16)) >> 16) / 255;\n                    this.rgb = [r, g, b];\n                    this.a = 1;\n                }\n                else {\n                    throw new Error('Invalid construction arguments');\n                }\n            }\n        }\n    }\n    /**\n     * Returns RGB value\n     * @returns {Number[]} Each of RGB values is in range 0.0 to 1.0\n     */\n    Color.prototype.RGB = function () {\n        if (!this.rgb) {\n            console.assert(this.hsv !== null);\n            this.rgb = hsv2rgb(this.hsv);\n        }\n        return this.rgb.slice();\n    };\n    /**\n     * Returns HSV value\n     * @returns {Number[]} Each of HSV values is in range 0.0 to 1.0\n     */\n    Color.prototype.HSV = function () {\n        if (!this.hsv) {\n            console.assert(this.rgb !== null);\n            this.hsv = rgb2hsv(this.rgb);\n        }\n        return this.hsv.slice();\n    };\n    /**\n     * Returns CSS string for this color value\n     * @param {Number} [bytes=2] Number of bytes to use (default 2)\n     * @returns {string}\n     */\n    Color.prototype.toCSS = function (bytes) {\n        if (bytes === void 0) { bytes = 2; }\n        if (!this.rgb) {\n            this.rgb = hsv2rgb(this.hsv);\n        }\n        if (this.a >= 1.0)\n            return this.toCSSHex(bytes);\n        var red = this.rgb[0];\n        var green = this.rgb[1];\n        var blue = this.rgb[2];\n        var alpha = this.a;\n        var max = 255;\n        var components = [\n            'rgba(',\n            Math.max(0, Math.min(max, Math.round(red * max))), ',',\n            Math.max(0, Math.min(max, Math.round(green * max))), ',',\n            Math.max(0, Math.min(max, Math.round(blue * max))), ',',\n            Math.max(0, Math.min(1.0, alpha)).toFixed(3),\n            ')'\n        ];\n        return components.join('');\n    };\n    /**\n     * Returns CSS string of format `#xxx` for this color value\n     * The returned value format doesn't support alpha, hence it's ignored\n     * @param {Number} [bytes=2] Number of bytes to use (default 2)\n     * @returns {string}\n     */\n    Color.prototype.toCSSHex = function (bytes) {\n        if (bytes === void 0) { bytes = 2; }\n        if (!this.rgb) {\n            this.rgb = hsv2rgb(this.hsv);\n        }\n        var red = this.rgb[0];\n        var green = this.rgb[1];\n        var blue = this.rgb[2];\n        bytes = bytes || 2;\n        var max = Math.pow(16, bytes) - 1;\n        var css = [\n            \"#\",\n            pad(Math.round(red * max).toString(16).toUpperCase(), bytes),\n            pad(Math.round(green * max).toString(16).toUpperCase(), bytes),\n            pad(Math.round(blue * max).toString(16).toUpperCase(), bytes)\n        ];\n        return css.join('');\n    };\n    /**\n     * Create color object from CSS Hex string\n     * @param s Hex string of the form '#ff0' or '#f0f0cc'\n     */\n    Color.fromCSSHex = function (s) {\n        if (s.length === 4) {\n            var match = /#(\\w)(\\w)(\\w)/.exec(s);\n            if (match) {\n                var r = parseInt(match[1], 16);\n                var g = parseInt(match[2], 16);\n                var b = parseInt(match[3], 16);\n                return new Color([r / 16, g / 16, b / 16, 1]);\n            }\n            else {\n                throw new Error('Invalid input format');\n            }\n        }\n        else if (s.length === 7) {\n            var match = /#(\\w\\w)(\\w\\w)(\\w\\w)/.exec(s);\n            if (match) {\n                var r = parseInt(match[1], 16);\n                var g = parseInt(match[2], 16);\n                var b = parseInt(match[3], 16);\n                return new Color([r / 255, g / 255, b / 255, 1]);\n            }\n            else {\n                throw new Error('Invalid input format');\n            }\n        }\n        else {\n            throw new Error('Invalid input format');\n        }\n    };\n    /**\n    * Return a single number that encode R-G-B values of the color\n    */\n    Color.prototype.toNumber = function () {\n        if (!this.rgb) {\n            this.rgb = hsv2rgb(this.hsv);\n        }\n        var red = Math.round(this.rgb[0] * 255);\n        var green = Math.round(this.rgb[1] * 255);\n        var blue = Math.round(this.rgb[2] * 255);\n        return (red << 16) | (green << 8) | blue;\n    };\n    Object.defineProperty(Color.prototype, \"alpha\", {\n        /**\n         * Get Alpha\n         * @returns {Number}\n         */\n        get: function () {\n            return this.a;\n        },\n        /**\n         * Set Alpha\n         * @param {!Number} a\n         * @returns {Kolor} this instance\n         */\n        set: function (a) {\n            this.a = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Color.prototype, \"hue\", {\n        /**\n         * Get Hue\n         * @returns {Number}\n         */\n        get: function () {\n            if (!this.hsv) {\n                this.hsv = rgb2hsv(this.rgb);\n            }\n            return this.hsv[0];\n        },\n        /**\n         * Set Hue\n         * @param {!Number} h\n         * @returns {Kolor} this instance\n         */\n        set: function (h) {\n            if (!this.hsv) {\n                this.hsv = rgb2hsv(this.rgb);\n            }\n            this.hsv[0] = h;\n            this.rgb = null; // to force RGB recalculation\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Color.prototype, \"saturation\", {\n        /**\n         * Get Saturation\n         * @returns {Number}\n         */\n        get: function () {\n            if (!this.hsv) {\n                this.hsv = rgb2hsv(this.rgb);\n            }\n            return this.hsv[1];\n        },\n        /**\n         * Set Saturation\n         * @param {!Number} s\n         * @returns {Kolor} this instance\n         */\n        set: function (s) {\n            if (!this.hsv) {\n                this.hsv = rgb2hsv(this.rgb);\n            }\n            this.hsv[1] = s;\n            this.rgb = null; // to force RGB recalculation\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Color.prototype, \"value\", {\n        /**\n         * Get Value\n         * @returns {Number}\n         */\n        get: function () {\n            if (!this.hsv) {\n                this.hsv = rgb2hsv(this.rgb);\n            }\n            return this.hsv[2];\n        },\n        /**\n         * Set Value\n         * @param {!Number} v\n         * @returns {Kolor} this instance\n         */\n        set: function (v) {\n            if (!this.hsv) {\n                this.hsv = rgb2hsv(this.rgb);\n            }\n            this.hsv[2] = v;\n            this.rgb = null; // to force RGB recalculation\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Color.prototype, \"red\", {\n        /**\n         * Get Red\n         * @returns {Number}\n         */\n        get: function () {\n            if (!this.rgb) {\n                this.rgb = hsv2rgb(this.hsv);\n            }\n            return this.rgb[0];\n        },\n        /**\n         * Set Red\n         * @param {!Number} r\n         * @returns {Kolor} this instance\n         */\n        set: function (r) {\n            if (!this.rgb) {\n                this.rgb = hsv2rgb(this.hsv);\n            }\n            this.rgb[0] = r;\n            this.hsv = null; // to force HSV recalculation\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Color.prototype, \"green\", {\n        /**\n         * Get Green\n         * @returns {Number}\n         */\n        get: function () {\n            if (!this.rgb) {\n                this.rgb = hsv2rgb(this.hsv);\n            }\n            return this.rgb[1];\n        },\n        /**\n         * Set Green\n         * @param {!Number} g\n         * @returns {Kolor} this instance\n         */\n        set: function (g) {\n            if (!this.rgb) {\n                this.rgb = hsv2rgb(this.hsv);\n            }\n            this.rgb[1] = g;\n            this.hsv = null; // to force HSV recalculation\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Color.prototype, \"blue\", {\n        /**\n         * Get Blue\n         * @returns {Number}\n         */\n        get: function () {\n            if (!this.rgb) {\n                this.rgb = hsv2rgb(this.hsv);\n            }\n            return this.rgb[2];\n        },\n        /**\n         * Set Blue\n         * @param {!Number} b\n         * @returns {Kolor} this instance\n         */\n        set: function (b) {\n            if (!this.rgb) {\n                this.rgb = hsv2rgb(this.hsv);\n            }\n            this.rgb[2] = b;\n            this.hsv = null; // to force HSV recalculation\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Returns RGBA value\n     * @returns {Number[]}\n     */\n    Color.prototype.RGBA = function () {\n        if (!this.rgb) {\n            this.rgb = hsv2rgb(this.hsv);\n        }\n        return [\n            this.rgb[0],\n            this.rgb[1],\n            this.rgb[2],\n            this.a\n        ];\n    };\n    /**\n     * Clones this instance\n     * @returns {Kolor}\n     */\n    Color.prototype.clone = function () {\n        return Color.fromJSON(this.toJSON());\n    };\n    /**\n     * To String\n     * @returns {string}\n     */\n    Color.prototype.toString = function () {\n        var r = this.red;\n        var g = this.green;\n        var b = this.blue;\n        var a = this.alpha;\n        return \"rgba(\" + Math.round(255 * r) + \",\" + Math.round(255 * g) + \",\" + Math.round(255 * b) + \",\" + a + \")\";\n    };\n    /**\n     * Revive Kolor instance from memento\n     * @param {!Object} m\n     * @returns {Kolor}\n     */\n    Color.fromJSON = function (m) {\n        return new Color(m);\n    };\n    /**\n     * Generate Memento\n     * @returns {Object} Memento\n     */\n    Color.prototype.toJSON = function () {\n        if (!this.rgb) {\n            this.rgb = hsv2rgb(this.hsv);\n        }\n        return [this.rgb[0], this.rgb[1], this.rgb[2], this.a];\n    };\n    /**\n     * Generate random color\n     * @returns {Kolor}\n     */\n    Color.random = function () {\n        return new Color([\n            Math.random(),\n            Math.random(),\n            Math.random(),\n            1.0\n        ]);\n    };\n    return Color;\n}());\nexports.Color = Color;\n/* takes a value, converts to string if need be, then pads it\n * to a minimum length.\n */\nfunction pad(val, len) {\n    val = val.toString();\n    var padded = [];\n    for (var i = 0, j = Math.max(len - val.length, 0); i < j; i++) {\n        padded.push('0');\n    }\n    padded.push(val);\n    return padded.join('');\n}\nfunction hsv2rgb(hsv) {\n    var hue = hsv[0];\n    var saturation = hsv[1];\n    var value = hsv[2];\n    hue %= 360;\n    saturation = Math.min(Math.max(0, saturation), 1);\n    value = Math.min(1, Math.max(0, value));\n    var i;\n    var f, p, q, t;\n    var red, green, blue;\n    if (saturation === 0) {\n        // achromatic (grey)\n        return [value, value, value];\n    }\n    var h = hue / 60; // sector 0 to 5\n    i = Math.floor(h);\n    f = h - i; // fractional part of h\n    p = value * (1 - saturation);\n    q = value * (1 - saturation * f);\n    t = value * (1 - saturation * (1 - f));\n    switch (i) {\n        case 0:\n            red = value;\n            green = t;\n            blue = p;\n            break;\n        case 1:\n            red = q;\n            green = value;\n            blue = p;\n            break;\n        case 2:\n            red = p;\n            green = value;\n            blue = t;\n            break;\n        case 3:\n            red = p;\n            green = q;\n            blue = value;\n            break;\n        case 4:\n            red = t;\n            green = p;\n            blue = value;\n            break;\n        default:// case 5:\n            red = value;\n            green = p;\n            blue = q;\n            break;\n    }\n    return [red, green, blue];\n}\nfunction rgb2hsv(rgb) {\n    var red = rgb[0];\n    var green = rgb[1];\n    var blue = rgb[2];\n    var min, max, delta;\n    var hue, saturation, value;\n    min = Math.min(red, green, blue);\n    max = Math.max(red, green, blue);\n    value = max; // v\n    delta = max - min;\n    if (delta == 0) {\n        hue = saturation = 0;\n    }\n    else {\n        saturation = delta / max;\n        if (red == max) {\n            hue = (green - blue) / delta; // between yellow & magenta\n        }\n        else if (green == max) {\n            hue = 2 + (blue - red) / delta; // between cyan & yellow\n        }\n        else {\n            hue = 4 + (red - green) / delta; // between magenta & cyan\n        }\n        hue = ((hue * 60) + 360) % 360; // degrees\n    }\n    return [hue, saturation, value];\n}\nexports.WHITE = new Color([1, 1, 1, 1]);\nexports.BLACK = new Color([0, 0, 0, 1]);\nexports.RED = new Color([1, 0, 0, 1]);\nexports.GREEN = new Color([0, 1, 0, 1]);\nexports.BLUE = new Color([0, 0, 1, 1]);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@bluemath/color/lib/index.js\n// module id = 5\n// module chunks = 0","\r\nimport * as specs from './specs'\r\nimport { SubstanceEntry, Model } from './model';\r\n\r\nexport class HTMLView {\r\n\r\n    private static _instance: HTMLView;\r\n\r\n    static get instance() {\r\n        if (this._instance == null) {\r\n            this._instance = new HTMLView();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    constructor() {\r\n    }\r\n\r\n    init() {\r\n        let tableData = this.organizeElementDataInRowsAndColumns();\r\n\r\n        let ptable = document.createElement('div');\r\n        ptable.classList.add('ptable');\r\n\r\n        let side = Math.round(window.innerWidth / 20);\r\n        for (let row = 1; row <= 7; row++) {\r\n            for (let col = 1; col <= 18; col++) {\r\n                let entry = tableData[row][col];\r\n                if (entry) {\r\n\r\n                    let elemButton = document.createElement('div');\r\n                    elemButton.classList.add('item');\r\n                    elemButton.classList.add('elemButton');\r\n                    elemButton.classList.add('element');\r\n                    elemButton.setAttribute('data-elem-symbol', entry[1]);\r\n                    elemButton.style.gridColumn = col + '';\r\n                    elemButton.style.gridRow = row + '';\r\n\r\n                    let colorClassCode = entry[6];\r\n                    elemButton.classList.add(specs.ColorClasses[colorClassCode]);\r\n                    elemButton.style.width = side + 'px';\r\n                    elemButton.style.height = side + 'px';\r\n\r\n                    let symbolText = document.createElement('div');\r\n                    symbolText.classList.add('symbol');\r\n                    symbolText.innerText = entry[1];\r\n                    elemButton.appendChild(symbolText);\r\n\r\n                    let quantityText = document.createElement('div');\r\n                    quantityText.classList.add('quantity');\r\n                    quantityText.innerText = '';\r\n                    elemButton.appendChild(quantityText);\r\n\r\n                    ptable.appendChild(elemButton);\r\n                }\r\n            }\r\n        }\r\n\r\n        let particlesPanel = this.createParticlesPanel();\r\n        ptable.appendChild(particlesPanel);\r\n\r\n        let clickerPanel = this.createClickerPanel();\r\n        ptable.appendChild(clickerPanel);\r\n\r\n        let marketPanel = this.createMarketPanel();\r\n        ptable.appendChild(marketPanel);\r\n\r\n        let hiringPanel = this.createHiringPanel();\r\n        ptable.appendChild(hiringPanel);\r\n\r\n        let substanceShopPanel = this.createSubstanceShopPanel();\r\n        ptable.appendChild(substanceShopPanel);\r\n\r\n        let elementShopPanel = this.createElementShopPanel();\r\n        ptable.appendChild(elementShopPanel);\r\n\r\n        document.body.appendChild(ptable);\r\n\r\n        let substancePanel = this.createSubstancePanel();\r\n        document.body.appendChild(substancePanel);\r\n\r\n        document.querySelector('.uiButton.openHire')!.addEventListener('click', (ev) => {\r\n            if (hiringPanel.style.visibility == 'visible') {\r\n                hiringPanel.style.visibility = 'hidden';\r\n                (ev.target as HTMLElement).innerText = 'Hire >';\r\n            } else {\r\n                this.syncHiringPanel();\r\n                (ev.target as HTMLElement).innerText = 'Close <';\r\n                hiringPanel.style.visibility = 'visible';\r\n                this.hideElementShopPanel();\r\n            }\r\n        });\r\n\r\n        document.body.querySelectorAll('.elemButton').forEach((elem) => {\r\n            elem.addEventListener('click', (ev) => {\r\n                let symbol = (ev.target as HTMLElement).getAttribute('data-elem-symbol');\r\n                this.showElementShopPanel(symbol!);\r\n                this.hideSubstanceShopPanel();\r\n            });\r\n        });\r\n    }\r\n\r\n    syncHiringPanel() {\r\n        document.body.querySelectorAll('.hiring-panel .uiButton').forEach(elem => {\r\n            let clktype = elem.getAttribute('data-clicker-type') as string;\r\n            if (Model.instance.canHireClicker(clktype)) {\r\n                elem.removeAttribute('disabled');\r\n            } else {\r\n                elem.setAttribute('disabled', 'disabled');\r\n            }\r\n        })\r\n    }\r\n\r\n    test() {\r\n        let css = '';\r\n        for (let row = 1; row <= 5; row++) {\r\n            for (let col = 1; col <= 5; col++) {\r\n                css += `\r\n                .col-${col}-row-${row} {\r\n                    grid-column:${col};\r\n                    grid-row:${row};\r\n                }\r\n                `\r\n            }\r\n        }\r\n        console.log(css);\r\n    }\r\n\r\n    createMarketPanel() {\r\n        let panel = document.createElement('div');\r\n        panel.classList.add('market-panel');\r\n        panel.innerHTML = `\r\n        <div class=\"cash\">$0</div>\r\n        `;\r\n        return panel;\r\n    }\r\n\r\n    createElementShopPanel() {\r\n        let panel = document.createElement('div');\r\n        panel.classList.add('element-shop-panel');\r\n        panel.innerHTML = `\r\n        <div class=\"elem-name\">Name</div>\r\n        <div class=\"uiButton close\">x</div>\r\n\r\n        <fieldset class=\"make-quantity\">\r\n            <input type=\"radio\" name=\"make-quantity\" id=\"mq1\" value=\"1\" checked=\"checked\"/>\r\n            <label for=\"mq1\">1</label>\r\n            <input type=\"radio\" name=\"make-quantity\" id=\"mq10\" value=\"10\"/>\r\n            <label for=\"mq10\">10</label>\r\n            <input type=\"radio\" name=\"make-quantity\" id=\"mq100\" value=\"100\"/>\r\n            <label for=\"mq100\">100</label>\r\n        </fieldset>\r\n\r\n        <fieldset class=\"factory-rate\">\r\n            <input type=\"radio\" name=\"factory-rate\" id=\"fr1\" value=\"1\" checked=\"checked\"/>\r\n            <label for=\"fr1\">1</label>\r\n            <input type=\"radio\" name=\"factory-rate\" id=\"fr10\" value=\"10\"/>\r\n            <label for=\"fr10\">10</label>\r\n            <input type=\"radio\" name=\"factory-rate\" id=\"fr100\" value=\"100\"/>\r\n            <label for=\"fr100\">100</label>\r\n        </fieldset>\r\n\r\n        <div class=\"uiButton elem-make\">Make</div>\r\n        <div class=\"uiButton buy-elem-factory\">Buy Factory</div>\r\n        `;\r\n\r\n        panel.querySelector('.elem-make')!.addEventListener('click', () => {\r\n            let symbol = panel.getAttribute('data-elem-symbol')! as string;\r\n            let makeQuantity =\r\n                parseInt((panel.querySelector('input[name=make-quantity]:checked') as\r\n                    HTMLInputElement).value);\r\n            console.assert(!isNaN(makeQuantity));\r\n            if (Model.instance.areElemUnitsProducible(symbol, makeQuantity)) {\r\n                Model.instance.produceElement(symbol, makeQuantity);\r\n            }\r\n        });\r\n        panel.querySelector('.buy-elem-factory')!.addEventListener('click', () => {\r\n            let symbol = panel.getAttribute('data-elem-symbol')! as string;\r\n            let prodrate = parseInt((panel.querySelector(\r\n                'input[name=factory-rate]:checked') as HTMLInputElement).value);\r\n            Model.instance.buyElementFactory(symbol, prodrate);\r\n        });\r\n        panel.querySelector('.close')!.addEventListener('click', () => {\r\n            this.hideElementShopPanel();\r\n        });\r\n        return panel;\r\n    }\r\n\r\n    showElementShopPanel(symbol: string) {\r\n        let panel = (document.body.querySelector('.element-shop-panel') as HTMLElement);\r\n        panel.style.visibility = 'visible';\r\n        panel.setAttribute('data-elem-symbol', symbol);\r\n    }\r\n\r\n    syncElementShopPanel() {\r\n        let panel = (document.body.querySelector('.element-shop-panel') as HTMLElement);\r\n        let symbol = panel.getAttribute('data-elem-symbol');\r\n        if (symbol) {\r\n            let elemspec = Model.instance.getElementSpec(symbol);\r\n            (panel.querySelector('.elem-name')! as HTMLElement).innerText = elemspec.name;\r\n\r\n            let factoryRateSelected = parseInt((panel.querySelector(\r\n                'input[name=factory-rate]:checked') as HTMLInputElement).value);\r\n            let factoryCost = Model.instance.getElementFactoryCost(symbol, factoryRateSelected);\r\n            let buyFactoryButton = panel.querySelector('.buy-elem-factory');\r\n            if (Model.instance.canAfford(factoryCost)) {\r\n                buyFactoryButton!.removeAttribute('disabled');\r\n            } else {\r\n                buyFactoryButton!.setAttribute('disabled', 'disabled');\r\n            }\r\n            (buyFactoryButton as HTMLDivElement).innerText = `Buy Factory ($${factoryCost})`;\r\n        }\r\n    }\r\n\r\n    hideElementShopPanel() {\r\n        let panel = (document.body.querySelector('.element-shop-panel') as HTMLElement);\r\n        panel.removeAttribute('data-elem-symbol');\r\n        panel.style.visibility = 'hidden';\r\n    }\r\n\r\n    createSubstanceShopPanel() {\r\n        let panel = document.createElement('div');\r\n        panel.classList.add('substance-shop-panel');\r\n        panel.innerHTML = `\r\n        <div class=\"sub-name\">Name</div>\r\n        <div class=\"uiButton sub-make\">Make</div>\r\n        <div class=\"uiButton close\">x</div>\r\n\r\n        <div class=\"sub-quantity label\">Quantity</div>\r\n        <div class=\"sub-factory-count label\">Factories</div>\r\n\r\n        <div class=\"sub-quantity value\"></div>\r\n        <div class=\"sub-factory-count value\"></div>\r\n\r\n        <div class=\"uiButton sub-sell col-2-row-4\">Sell ($00/unit)</div>\r\n        <div class=\"uiButton buy-sub-factory col-3-row-4\">Buy Factory</div>\r\n\r\n        <div class=\"sub-tags\">\r\n        </div>\r\n        `;\r\n\r\n        panel.querySelector('.uiButton.sub-make')!.addEventListener('click', () => {\r\n            let formula = panel.getAttribute('data-sub-formula');\r\n            if (Model.instance.isSubstanceProducible(formula!)) {\r\n                Model.instance.produceSubstance(formula!, 1);\r\n            }\r\n        });\r\n\r\n        panel.querySelector('.uiButton.sub-sell')!.addEventListener('click', () => {\r\n            Model.instance.sellSubstance(panel.getAttribute('data-sub-formula')! as string, 1);\r\n        });\r\n\r\n        panel.querySelector('.uiButton.buy-sub-factory')!.addEventListener('click', () => {\r\n            let formula = panel.getAttribute('data-sub-formula');\r\n            let factoryCost = Model.instance.getSubstanceFactoryCost(formula!, 1);\r\n            if (Model.instance.canAfford(factoryCost)) {\r\n                Model.instance.buySubstanceFactory(formula!, 1);\r\n            }\r\n        });\r\n\r\n        panel.querySelector('.uiButton.close')!.addEventListener('click', () => {\r\n            this.hideSubstanceShopPanel();\r\n        });\r\n\r\n        return panel;\r\n    }\r\n\r\n    private createSubstancePanel() {\r\n        let panel = document.createElement('div');\r\n        panel.classList.add('substance-panel');\r\n\r\n        for (let substanceEntry of specs.substanceList) {\r\n            let [formula, name, composition, price] = substanceEntry;\r\n\r\n            let subentry: SubstanceEntry = {\r\n                formula: formula as string,\r\n                name: name as string,\r\n                composition: composition as { [key: string]: number },\r\n            }\r\n\r\n            let subButton = document.createElement('div');\r\n            subButton.classList.add('substanceButton')\r\n            subButton.setAttribute('data-substance-formula', formula as string);\r\n            subButton.addEventListener('click', () => {\r\n                this.showSubstanceShopPanel(formula as string);\r\n                this.hideElementShopPanel();\r\n            });\r\n            subButton.innerText = subentry.name;\r\n            subButton.classList.add(subentry.formula.toLowerCase());\r\n            panel.appendChild(subButton);\r\n        }\r\n\r\n        return panel;\r\n    }\r\n\r\n    showSubstanceShopPanel(formula: string) {\r\n        let panel = (document.body.querySelector('.substance-shop-panel')! as HTMLElement);\r\n        panel.style.visibility = 'visible';\r\n        panel.setAttribute('data-sub-formula', formula);\r\n    }\r\n\r\n    syncSubstanceShopPanel() {\r\n        let panel = (document.body.querySelector('.substance-shop-panel')! as HTMLElement);\r\n        let formula = panel.getAttribute('data-sub-formula');\r\n        if (formula) {\r\n            let spec = Model.instance.getSubstanceSpec(formula);\r\n            let quant = Model.instance.getSubstanceQuantity(formula);\r\n            (panel.querySelector('.sub-name') as HTMLElement).innerText = spec.name;\r\n            (panel.querySelector('.sub-quantity.value') as HTMLElement).innerText =\r\n                (quant || 0) + '';\r\n            let makeButton = panel.querySelector('.uiButton.sub-make') as HTMLElement;\r\n            if (Model.instance.isSubstanceProducible(formula)) {\r\n                makeButton.removeAttribute('disabled');\r\n            } else {\r\n                makeButton.setAttribute('disabled', 'disabled');\r\n            }\r\n\r\n            let sellButton = panel.querySelector('.uiButton.sub-sell') as HTMLElement;\r\n            if (quant > 0) {\r\n                sellButton.removeAttribute('disabled');\r\n            } else {\r\n                sellButton.setAttribute('disabled', 'disabled');\r\n            }\r\n            sellButton.innerText = `Sell ($${Model.instance.getSubstancePrice(formula)}/unit)`;\r\n\r\n            let subFactoryButton = panel.querySelector('.uiButton.buy-sub-factory')! as HTMLDivElement;\r\n            let factoryCost = Model.instance.getSubstanceFactoryCost(formula, 1);\r\n            subFactoryButton.innerText = `Buy Factory($${factoryCost})`;\r\n            if (Model.instance.canAfford(factoryCost)) {\r\n                subFactoryButton.removeAttribute('disabled');\r\n            } else {\r\n                subFactoryButton.setAttribute('disabled', 'disabled');\r\n            }\r\n        }\r\n    }\r\n\r\n    hideSubstanceShopPanel() {\r\n        let panel = (document.body.querySelector('.substance-shop-panel')! as HTMLElement);\r\n        panel.style.visibility = 'hidden';\r\n        panel.removeAttribute('data-sub-formula');\r\n    }\r\n\r\n    private createParticlesPanel() {\r\n        let html = `\r\n            <div class=\"label col-1-row-1\">Electrons</div>\r\n            <div class=\"count electron col-2-row-1\">0</div>\r\n            <div class=\"col-3-row-1\"><div class=\"uiButton particle addElectron\">+</div></div>\r\n\r\n            <div class=\"label col-1-row-2\">Protons</div>\r\n            <div class=\"count proton col-2-row-2\">0</div>\r\n            <div class=\"col-3-row-2\"><div class=\"uiButton particle addProton\">+</div></div>\r\n\r\n            <div class=\"label col-1-row-3\">Neutrons</div>\r\n            <div class=\"count neutron col-2-row-3\">0</div>\r\n            <div class=\"col-3-row-3\"><div class=\"uiButton particle addNeutron\">+</div></div>\r\n        `;\r\n\r\n        let particlesPanel = document.createElement('div');\r\n        particlesPanel.classList.add('item');\r\n        particlesPanel.classList.add('particles-panel');\r\n        particlesPanel.innerHTML = html;\r\n\r\n        particlesPanel.querySelector('.addElectron')!.addEventListener('click', () => {\r\n            Model.instance.addElectron();\r\n            this.hideSubstanceShopPanel();\r\n            this.hideElementShopPanel();\r\n        });\r\n        particlesPanel.querySelector('.addProton')!.addEventListener('click', () => {\r\n            Model.instance.addProton();\r\n            this.hideSubstanceShopPanel();\r\n            this.hideElementShopPanel();\r\n        });\r\n        particlesPanel.querySelector('.addNeutron')!.addEventListener('click', () => {\r\n            Model.instance.addNeutron();\r\n            this.hideSubstanceShopPanel();\r\n            this.hideElementShopPanel();\r\n        });\r\n        return particlesPanel;\r\n    }\r\n\r\n    private createClickerPanel() {\r\n        let clickerPanel = document.createElement('div');\r\n        clickerPanel.classList.add('item');\r\n        clickerPanel.classList.add('clicker-panel');\r\n        clickerPanel.innerHTML = `\r\n        <div class=\"uiButton openHire\">Hire &gt;</div>\r\n        `;\r\n        return clickerPanel;\r\n    }\r\n\r\n    private createHiringPanel() {\r\n        let hiringPanel = document.createElement('div');\r\n        hiringPanel.classList.add('item');\r\n        hiringPanel.classList.add('hiring-panel');\r\n        hiringPanel.innerHTML = `\r\n        <div class=\"col-1-row-1\">Bored Student</div>\r\n        <div class=\"col-2-row-1\">10cps</div>\r\n        <div class=\"col-3-row-1\">$4</div>\r\n        <div class=\"col-4-row-1\"><a href=\"#\" class=\"uiButton\" data-clicker-type=\"student\">Hire</a></div>\r\n\r\n        <div class=\"col-1-row-2\">Bored Lab Assistant</div>\r\n        <div class=\"col-2-row-2\">50cps</div>\r\n        <div class=\"col-3-row-2\">$10</div>\r\n        <div class=\"col-4-row-2\"><a href=\"#\" class=\"uiButton\" data-clicker-type=\"labass\">Hire</a></div>\r\n\r\n        <div class=\"col-1-row-3\">Bored PhD</div>\r\n        <div class=\"col-2-row-3\">100cps</div>\r\n        <div class=\"col-3-row-3\">$15</div>\r\n        <div class=\"col-4-row-3\"><a href=\"#\" class=\"uiButton\" data-clicker-type=\"phd\">Hire</a></div>\r\n\r\n        <div class=\"col-1-row-4\">Bored Professor</div>\r\n        <div class=\"col-2-row-4\">200cps</div>\r\n        <div class=\"col-3-row-4\">$40</div>\r\n        <div class=\"col-4-row-4\"><a href=\"#\" class=\"uiButton\" data-clicker-type=\"professor\">Hire</a></div>\r\n        \r\n        <div class=\"col-1-row-5\">Bored Research Scientist</div>\r\n        <div class=\"col-2-row-5\">500cps</div>\r\n        <div class=\"col-3-row-5\">$100</div>\r\n        <div class=\"col-4-row-5\"><a href=\"#\" class=\"uiButton\" data-clicker-type=\"scientist\">Hire</a></div>\r\n\r\n        <div class=\"col-1-row-6\">Bored Nobel Laureate</div>\r\n        <div class=\"col-2-row-6\">5000cps</div>\r\n        <div class=\"col-3-row-6\">$1000</div>\r\n        <div class=\"col-4-row-6\"><a href=\"#\" class=\"uiButton\" data-clicker-type=\"nobel\">Hire</a></div>\r\n        `;\r\n        hiringPanel.querySelectorAll('.uiButton').forEach(elem => {\r\n            elem.addEventListener('click', ev => {\r\n                let clktype = (ev.target as HTMLElement).getAttribute('data-clicker-type');\r\n                if (Model.instance.canHireClicker(clktype as string)) {\r\n                    Model.instance.hireClicker(clktype as string);\r\n                }\r\n            });\r\n        });\r\n        return hiringPanel;\r\n    }\r\n\r\n    organizeElementDataInRowsAndColumns() {\r\n        let etable: any[][] = [];\r\n        for (let entry of specs.list) {\r\n            let [anumber, symbol, name,\r\n                group, period, aweight,\r\n                colcode] = entry;\r\n            // group is column, period is row\r\n            let row = period as number;\r\n            let col = group as number;\r\n            if (!etable[row]) {\r\n                etable[row] = [];\r\n            }\r\n            etable[row][col] = entry;\r\n        }\r\n        return etable;\r\n    }\r\n\r\n    numberToString(n: number) {\r\n        if (n < 1000) {\r\n            return n + '';\r\n        } else if (n < 1000000) {\r\n            return Math.floor(n / 1000) + 'K+';\r\n        } else if (n < 1000000000) {\r\n            return Math.floor(n / (1000 * 1000)) + 'B+';\r\n        } else {\r\n            return 'Infinity';\r\n        }\r\n    }\r\n\r\n    update() {\r\n        (document.body.querySelector('.count.electron')! as HTMLElement).innerText =\r\n            this.numberToString(Model.instance.numE);\r\n\r\n        (document.body.querySelector('.count.proton')! as HTMLElement).innerText =\r\n            this.numberToString(Model.instance.numP);\r\n\r\n        (document.body.querySelector('.count.neutron')! as HTMLElement).innerText =\r\n            this.numberToString(Model.instance.numN);\r\n\r\n        (document.body.querySelectorAll('.elemButton')).forEach((elem) => {\r\n            let symbol = elem.getAttribute('data-elem-symbol')!;\r\n            if (Model.instance.isElemProducible(symbol)) {\r\n                elem.removeAttribute('disabled');\r\n            } else {\r\n                elem.setAttribute('disabled', 'disabled');\r\n            }\r\n            let quantity = Model.instance.getElementQuantity(symbol);\r\n            (elem.querySelector('.quantity')! as HTMLDivElement).innerText =\r\n                quantity > 0 ? quantity + '' : '';\r\n        });\r\n\r\n        (document.body.querySelectorAll('.substanceButton')).forEach((elem) => {\r\n            let formula = elem.getAttribute('data-substance-formula')!;\r\n            // if (Model.instance.isSubstanceProducible(formula)) {\r\n            //     elem.removeAttribute('disabled');\r\n            // } else {\r\n            //     elem.setAttribute('disabled', 'disabled');\r\n            // }\r\n            let name = Model.instance.getSubstanceSpec(formula).name;\r\n            let quant = Model.instance.getSubstanceQuantity(formula);\r\n            let label = name;\r\n            if (quant) { label += '(' + quant + ')'; }\r\n            (elem as HTMLElement).innerText = label;\r\n        });\r\n\r\n        (document.body.querySelector('.market-panel .cash')! as HTMLElement).innerText =\r\n            '$' + Model.instance.cash;\r\n\r\n        this.syncSubstanceShopPanel();\r\n        this.syncElementShopPanel();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/htmlview.ts"],"sourceRoot":""}